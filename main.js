!function(){"use strict";var e={145:function(e,t,o){e.exports=o.p+"418980fdb81d7ceb84cc.jpg"},195:function(e,t,o){e.exports=o.p+"da7ae2ac910426f62176.jpg"},837:function(e,t,o){e.exports=o.p+"b431bbb397d7a39486fd.jpg"},713:function(e,t,o){e.exports=o.p+"44b92084d1c40cb0a70b.jpg"},574:function(e,t,o){e.exports=o.p+"ac218ab8ae2c025add31.jpg"},129:function(e,t,o){e.exports=o.p+"f37cd48ce187723b17f6.jpg"}},t={};function o(n){var r=t[n];if(void 0!==r)return r.exports;var c=t[n]={exports:{}};return e[n](c,c.exports,o),c.exports}o.m=e,o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o.b=document.baseURI||self.location.href,function(){const e={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__button-submit",inactiveButtonClass:"modal__button-submit_disabled",inputErrorClass:"modal__input_type_error",errorClass:"modal__input_error_visible"},t=(e,t,o)=>{const n=e.querySelector(`#${t.id}-error`);n.textContent="",n.classList.remove(o.errorClass),t.classList.remove(o.inputErrorClass)},n=(e,t,o)=>{(e=>e.some((e=>!e.validity.valid)))(e)?c(t,o):r(t,o)},r=(e,t)=>{e.classList.remove(t.inactiveButtonClass),e.disabled=!1},c=(e,t)=>{e.classList.add(t.inactiveButtonClass),e.disabled=!0},a=new URL(o(145),o.b),l=new URL(o(195),o.b),d=new URL(o(837),o.b),i=new URL(o(713),o.b),s=new URL(o(574),o.b),u=new URL(o(129),o.b),m=document.querySelector(".profile__edit-btn"),p=document.querySelectorAll(".modal__button-close"),_=document.querySelector(".profile__name"),f=document.querySelector(".profile__description"),v=document.querySelector("#edit-modal"),b=document.querySelector("#profile-name-input"),y=document.querySelector("#profile-description-input"),S=document.querySelector("#profile-form");function q(e){"Escape"===e.key&&k(document.querySelector(".modal_opened"))}function L(e){e.classList.add("modal_opened"),document.addEventListener("keydown",q)}function k(e){e.classList.remove("modal_opened"),document.removeEventListener("keydown",q)}document.querySelectorAll(".modal").forEach((e=>{e.addEventListener("mousedown",(t=>{(t.target.classList.contains("modal")||t.target.classList.contains("modal__button-close"))&&k(e)}))})),m.addEventListener("click",(()=>{var o,n;b.value=_.textContent,y.value=f.textContent,o=S,n=e,[b,y].forEach((e=>{t(o,e,n)})),L(v)})),S.addEventListener("submit",(function(e){e.preventDefault(),_.textContent=b.value,f.textContent=y.value,k(v)}));const E=document.querySelector(".profile__new-post-btn"),C=document.querySelector("#add-card-form"),g=document.querySelector("#profile-add-card-link-input"),x=document.querySelector("#profile-add-card-caption-input"),w=document.querySelector("#add-card-modal");E.addEventListener("click",(()=>{L(w)})),C.addEventListener("submit",(function(t){t.preventDefault();const o=B({name:x.value,link:g.value});O.prepend(o),k(w),C.reset(),c(t.submitter,e)}));const h=[{name:"Joseph, OR",link:a},{name:"Oregon Coast",link:l},{name:"Tumalo Falls, OR",link:d},{name:"Central Oregon Cascade Range",link:i},{name:"Multnomah Falls, OR",link:s},{name:"Southern Oregon",link:u}],R=document.querySelector("#card-template"),O=document.querySelector(".cards__list"),j=document.querySelector("#card-preview-modal"),U=document.querySelector(".modal__image-preview"),A=document.querySelector(".modal__image-caption");function B(e){const t=R.content.querySelector(".card").cloneNode(!0),o=t.querySelector(".card__title"),n=t.querySelector(".card__image"),r=t.querySelector(".card__like-button"),c=t.querySelector(".card__delete-button");return o.textContent=e.name,n.src=e.link,n.alt=e.name,r.addEventListener("click",(()=>{r.classList.toggle("card__like-button_liked")})),c.addEventListener("click",(()=>{t.remove()})),n.addEventListener("click",(()=>{U.src=e.link,U.alt=e.name,A.textContent=e.name,L(j)})),t}var D;h.forEach((e=>{const t=B(e);O.prepend(t)})),p.forEach((e=>{e.addEventListener("click",(()=>{k(e.closest(".modal"))}))})),D=e,document.querySelectorAll(D.formSelector).forEach((e=>{((e,o)=>{const r=Array.from(e.querySelectorAll(o.inputSelector)),c=e.querySelector(o.submitButtonSelector);n(r,c,o),r.forEach((a=>{a.addEventListener("input",(function(){((e,o,n)=>{o.validity.valid?t(e,o,n):((e,t,o,n)=>{const r=e.querySelector(`#${t.id}-error`);r.textContent=o,r.classList.add(n.errorClass),t.classList.add(n.inputErrorClass)})(e,o,o.validationMessage,n)})(e,a,o),n(r,c,o)}))}))})(e,D)}))}()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoicVpBQ0lBLEVBQTJCLENBQUMsRUFHaEMsU0FBU0MsRUFBb0JDLEdBRTVCLElBQUlDLEVBQWVILEVBQXlCRSxHQUM1QyxRQUFxQkUsSUFBakJELEVBQ0gsT0FBT0EsRUFBYUUsUUFHckIsSUFBSUMsRUFBU04sRUFBeUJFLEdBQVksQ0FHakRHLFFBQVMsQ0FBQyxHQU9YLE9BSEFFLEVBQW9CTCxHQUFVSSxFQUFRQSxFQUFPRCxRQUFTSixHQUcvQ0ssRUFBT0QsT0FDZixDQUdBSixFQUFvQk8sRUFBSUQsRUN6QnhCTixFQUFvQlEsRUFBSSxTQUFTQyxFQUFLQyxHQUFRLE9BQU9DLE9BQU9DLFVBQVVDLGVBQWVDLEtBQUtMLEVBQUtDLEVBQU8sRUNBdEdWLEVBQW9CZSxFQUFJLEdDQXhCZixFQUFvQmdCLEVBQUlDLFNBQVNDLFNBQVdDLEtBQUtDLFNBQVNDLEssV0NBMUQsTUFBTUMsRUFBVyxDQUNmQyxhQUFjLGVBQ2RDLGNBQWUsZ0JBQ2ZDLHFCQUFzQix3QkFDdEJDLG9CQUFxQixnQ0FDckJDLGdCQUFpQiwwQkFDakJDLFdBQVksOEJBVVJDLEVBQWlCQSxDQUFDQyxFQUFhQyxFQUFjQyxLQUNqRCxNQUFNQyxFQUFlSCxFQUFZSSxjQUFjLElBQUlILEVBQWFJLFlBQ2hFRixFQUFhRyxZQUFjLEdBQzNCSCxFQUFhSSxVQUFVQyxPQUFPTixFQUFPSixZQUNyQ0csRUFBYU0sVUFBVUMsT0FBT04sRUFBT0wsZ0JBQWdCLEVBc0JqRFksRUFBb0JBLENBQUNDLEVBQVdDLEVBQWVULEtBTjVCUSxJQUNoQkEsRUFBVUUsTUFBTVgsSUFDYkEsRUFBYVksU0FBU0MsUUFLNUJDLENBQWdCTCxHQUNsQk0sRUFBY0wsRUFBZVQsR0FFN0JlLEVBQWFOLEVBQWVULEVBQzlCLEVBR0llLEVBQWVBLENBQUNOLEVBQWVULEtBQ25DUyxFQUFjSixVQUFVQyxPQUFPTixFQUFPTixxQkFDdENlLEVBQWNPLFVBQVcsQ0FBSyxFQUcxQkYsRUFBZ0JBLENBQUNMLEVBQWVULEtBQ3BDUyxFQUFjSixVQUFVWSxJQUFJakIsRUFBT04scUJBQ25DZSxFQUFjTyxVQUFXLENBQUksRUNoRHpCRSxFQUFPLElBQUlDLElBQ2YsWUFHSUMsRUFBTyxJQUFJRCxJQUNmLFlBR0lFLEVBQU8sSUFBSUYsSUFDZixZQUdJRyxFQUFPLElBQUlILElBQ2YsWUFHSUksRUFBTyxJQUFJSixJQUNmLFlBR0lLLEVBQU8sSUFBSUwsSUFDZixZQVdJTSxFQUFvQnhDLFNBQVNpQixjQUFjLHNCQUMzQ3dCLEVBQW9CekMsU0FBUzBDLGlCQUFpQix3QkFDOUNDLEVBQWMzQyxTQUFTaUIsY0FBYyxrQkFDckMyQixFQUFxQjVDLFNBQVNpQixjQUFjLHlCQUM1QzRCLEVBQVk3QyxTQUFTaUIsY0FBYyxlQUNuQzZCLEVBQXFCOUMsU0FBU2lCLGNBQWMsdUJBQzVDOEIsRUFBNEIvQyxTQUFTaUIsY0FDekMsOEJBRUkrQixFQUFjaEQsU0FBU2lCLGNBQWMsaUJBYzNDLFNBQVNnQyxFQUFhQyxHQUNKLFdBQVpBLEVBQUlDLEtBRU5DLEVBRG9CcEQsU0FBU2lCLGNBQWMsaUJBRy9DLENBRUEsU0FBU29DLEVBQVVDLEdBQ2pCQSxFQUFNbEMsVUFBVVksSUFBSSxnQkFDcEJoQyxTQUFTdUQsaUJBQWlCLFVBQVdOLEVBQ3ZDLENBRUEsU0FBU0csRUFBV0UsR0FDbEJBLEVBQU1sQyxVQUFVQyxPQUFPLGdCQUN2QnJCLFNBQVN3RCxvQkFBb0IsVUFBV1AsRUFDMUMsQ0E1QmNqRCxTQUFTMEMsaUJBQWlCLFVBRWxDZSxTQUFTSCxJQUNiQSxFQUFNQyxpQkFBaUIsYUFBY0wsS0FFakNBLEVBQUlRLE9BQU90QyxVQUFVdUMsU0FBUyxVQUM5QlQsRUFBSVEsT0FBT3RDLFVBQVV1QyxTQUFTLHlCQUU5QlAsRUFBV0UsRUFDYixHQUNBLElBMkJKZCxFQUFrQmUsaUJBQWlCLFNBQVMsS0Q1QnBCSyxJQUFDL0MsRUFBd0JFLEVDNkIvQytCLEVBQW1CZSxNQUFRbEIsRUFBWXhCLFlBQ3ZDNEIsRUFBMEJjLE1BQVFqQixFQUFtQnpCLFlEOUI5Qk4sRUNpQ3JCbUMsRURqQzZDakMsRUNtQzdDVixFQURBLENBQUN5QyxFQUFvQkMsR0RqQ2JVLFNBQVNLLElBQ2pCbEQsRUFBZUMsRUFBYWlELEVBQU8vQyxFQUFPLElDbUM1Q3NDLEVBQVVSLEVBQVUsSUFHdEJHLEVBQVlPLGlCQUFpQixVQW5CN0IsU0FBaUNMLEdBQy9CQSxFQUFJYSxpQkFDSnBCLEVBQVl4QixZQUFjMkIsRUFBbUJlLE1BQzdDakIsRUFBbUJ6QixZQUFjNEIsRUFBMEJjLE1BQzNEVCxFQUFXUCxFQUNiLElBa0JBLE1BQU1tQixFQUF1QmhFLFNBQVNpQixjQUFjLDBCQUM5Q2dELEVBQXFCakUsU0FBU2lCLGNBQWMsa0JBQzVDaUQsRUFBbUJsRSxTQUFTaUIsY0FBYyxnQ0FDMUNrRCxFQUFzQm5FLFNBQVNpQixjQUNuQyxtQ0FFSW1ELEVBQWVwRSxTQUFTaUIsY0FBYyxtQkFpQjVDK0MsRUFBcUJULGlCQUFpQixTQUFTLEtBQzdDRixFQUFVZSxFQUFhLElBR3pCSCxFQUFtQlYsaUJBQWlCLFVBbkJwQyxTQUE2QkwsR0FDM0JBLEVBQUlhLGlCQUVKLE1BS01NLEVBQWNDLEVBTEEsQ0FDbEJDLEtBQU1KLEVBQW9CTixNQUMxQlcsS0FBTU4sRUFBaUJMLFFBSXpCWSxFQUFVQyxRQUFRTCxHQUNsQmpCLEVBQVdnQixHQUNYSCxFQUFtQlUsUUFDbkI5QyxFQUFjcUIsRUFBSTBCLFVBQVd2RSxFQUMvQixJQVVBLE1BQU13RSxFQUFlLENBQ25CLENBQ0VOLEtBQU0sYUFDTkMsS0FBTXZDLEdBRVIsQ0FDRXNDLEtBQU0sZUFDTkMsS0FBTXJDLEdBRVIsQ0FDRW9DLEtBQU0sbUJBQ05DLEtBQU1wQyxHQUVSLENBQ0VtQyxLQUFNLCtCQUNOQyxLQUFNbkMsR0FFUixDQUNFa0MsS0FBTSxzQkFDTkMsS0FBTWxDLEdBRVIsQ0FDRWlDLEtBQU0sa0JBQ05DLEtBQU1qQyxJQU1KdUMsRUFBZTlFLFNBQVNpQixjQUFjLGtCQUN0Q3dELEVBQVl6RSxTQUFTaUIsY0FBYyxnQkFDbkM4RCxFQUFlL0UsU0FBU2lCLGNBQWMsdUJBQ3RDK0QsRUFBb0JoRixTQUFTaUIsY0FBYyx5QkFDM0NnRSxFQUFlakYsU0FBU2lCLGNBQWMseUJBRTVDLFNBQVNxRCxFQUFlWSxHQUN0QixNQUFNYixFQUFjUyxFQUFhSyxRQUM5QmxFLGNBQWMsU0FDZG1FLFdBQVUsR0FFUEMsRUFBYWhCLEVBQVlwRCxjQUFjLGdCQUN2Q3FFLEVBQWNqQixFQUFZcEQsY0FBYyxnQkFDeENzRSxFQUFjbEIsRUFBWXBELGNBQWMsc0JBQ3hDdUUsRUFBZ0JuQixFQUFZcEQsY0FBYyx3QkF1QmhELE9BckJBb0UsRUFBV2xFLFlBQWMrRCxFQUFLWCxLQUM5QmUsRUFBWUcsSUFBTVAsRUFBS1YsS0FDdkJjLEVBQVlJLElBQU1SLEVBQUtYLEtBRXZCZ0IsRUFBWWhDLGlCQUFpQixTQUFTLEtBQ3BDZ0MsRUFBWW5FLFVBQVV1RSxPQUFPLDBCQUEwQixJQUd6REgsRUFBY2pDLGlCQUFpQixTQUFTLEtBQ3RDYyxFQUFZaEQsUUFBUSxJQUl0QmlFLEVBQVkvQixpQkFBaUIsU0FBUyxLQUNwQ3lCLEVBQWtCUyxJQUFNUCxFQUFLVixLQUM3QlEsRUFBa0JVLElBQU1SLEVBQUtYLEtBQzdCVSxFQUFhOUQsWUFBYytELEVBQUtYLEtBRWhDbEIsRUFBVTBCLEVBQWEsSUFHbEJWLENBQ1QsQ0R6SDBCdEQsTUM0SDFCOEQsRUFBYXBCLFNBQVNtQyxJQUNwQixNQUFNdkIsRUFBY0MsRUFBZXNCLEdBQ25DbkIsRUFBVUMsUUFBUUwsRUFBWSxJQUloQzVCLEVBQWtCZ0IsU0FBU29DLElBQ3pCQSxFQUFPdEMsaUJBQWlCLFNBQVMsS0FFL0JILEVBRGN5QyxFQUFPQyxRQUFRLFVBQ1osR0FDakIsSUR0SXNCL0UsRUN5SVRWLEVEeElFTCxTQUFTMEMsaUJBQWlCM0IsRUFBT1QsY0FDekNtRCxTQUFTNUMsSUFqQk1rRixFQUFDbEYsRUFBYUUsS0FDdEMsTUFBTVEsRUFBWXlFLE1BQU1DLEtBQ3RCcEYsRUFBWTZCLGlCQUFpQjNCLEVBQU9SLGdCQUVoQ2lCLEVBQWdCWCxFQUFZSSxjQUFjRixFQUFPUCxzQkFDdkRjLEVBQWtCQyxFQUFXQyxFQUFlVCxHQUU1Q1EsRUFBVWtDLFNBQVMzQyxJQUNqQkEsRUFBYXlDLGlCQUFpQixTQUFTLFdBbkRoQjJDLEVBQUNyRixFQUFhQyxFQUFjQyxLQUNoREQsRUFBYVksU0FBU0MsTUFRekJmLEVBQWVDLEVBQWFDLEVBQWNDLEdBdkJ2Qm9GLEVBQUN0RixFQUFhQyxFQUFjc0YsRUFBY3JGLEtBQy9ELE1BQU1DLEVBQWVILEVBQVlJLGNBQWMsSUFBSUgsRUFBYUksWUFDaEVGLEVBQWFHLFlBQWNpRixFQUMzQnBGLEVBQWFJLFVBQVVZLElBQUlqQixFQUFPSixZQUNsQ0csRUFBYU0sVUFBVVksSUFBSWpCLEVBQU9MLGdCQUFnQixFQVloRHlGLENBQ0V0RixFQUNBQyxFQUNBQSxFQUFhdUYsa0JBQ2J0RixFQUlKLEVBMENJbUYsQ0FBbUJyRixFQUFhQyxFQUFjQyxHQUM5Q08sRUFBa0JDLEVBQVdDLEVBQWVULEVBQzlDLEdBQUUsR0FDRixFQU1BZ0YsQ0FBa0JsRixFQUFhRSxFQUFPLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zZV9wcm9qZWN0X3Nwb3RzL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3NlX3Byb2plY3Rfc3BvdHMvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X3Nwb3RzL3dlYnBhY2svcnVudGltZS9wdWJsaWNQYXRoIiwid2VicGFjazovL3NlX3Byb2plY3Rfc3BvdHMvd2VicGFjay9ydW50aW1lL2pzb25wIGNodW5rIGxvYWRpbmciLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9zcG90cy8uL3NyYy9zY3JpcHRzL3ZhbGlkYXRpb24uanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9zcG90cy8uL3NyYy9wYWdlcy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuLy8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbl9fd2VicGFja19yZXF1aXJlX18ubSA9IF9fd2VicGFja19tb2R1bGVzX187XG5cbiIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iaiwgcHJvcCkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCk7IH0iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiOyIsIl9fd2VicGFja19yZXF1aXJlX18uYiA9IGRvY3VtZW50LmJhc2VVUkkgfHwgc2VsZi5sb2NhdGlvbi5ocmVmO1xuXG4vLyBvYmplY3QgdG8gc3RvcmUgbG9hZGVkIGFuZCBsb2FkaW5nIGNodW5rc1xuLy8gdW5kZWZpbmVkID0gY2h1bmsgbm90IGxvYWRlZCwgbnVsbCA9IGNodW5rIHByZWxvYWRlZC9wcmVmZXRjaGVkXG4vLyBbcmVzb2x2ZSwgcmVqZWN0LCBQcm9taXNlXSA9IGNodW5rIGxvYWRpbmcsIDAgPSBjaHVuayBsb2FkZWRcbnZhciBpbnN0YWxsZWRDaHVua3MgPSB7XG5cdDE3OTogMFxufTtcblxuLy8gbm8gY2h1bmsgb24gZGVtYW5kIGxvYWRpbmdcblxuLy8gbm8gcHJlZmV0Y2hpbmdcblxuLy8gbm8gcHJlbG9hZGVkXG5cbi8vIG5vIEhNUlxuXG4vLyBubyBITVIgbWFuaWZlc3RcblxuLy8gbm8gb24gY2h1bmtzIGxvYWRlZFxuXG4vLyBubyBqc29ucCBmdW5jdGlvbiIsImNvbnN0IHNldHRpbmdzID0ge1xuICBmb3JtU2VsZWN0b3I6IFwiLm1vZGFsX19mb3JtXCIsXG4gIGlucHV0U2VsZWN0b3I6IFwiLm1vZGFsX19pbnB1dFwiLFxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIubW9kYWxfX2J1dHRvbi1zdWJtaXRcIixcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJtb2RhbF9fYnV0dG9uLXN1Ym1pdF9kaXNhYmxlZFwiLFxuICBpbnB1dEVycm9yQ2xhc3M6IFwibW9kYWxfX2lucHV0X3R5cGVfZXJyb3JcIixcbiAgZXJyb3JDbGFzczogXCJtb2RhbF9faW5wdXRfZXJyb3JfdmlzaWJsZVwiLFxufTtcblxuY29uc3Qgc2hvd0lucHV0RXJyb3IgPSAoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCwgZXJyb3JNZXNzYWdlLCBjb25maWcpID0+IHtcbiAgY29uc3QgZXJyb3JFbGVtZW50ID0gZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgIyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xuICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBlcnJvck1lc3NhZ2U7XG4gIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKGNvbmZpZy5lcnJvckNsYXNzKTtcbiAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQoY29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XG59O1xuXG5jb25zdCBoaWRlSW5wdXRFcnJvciA9IChmb3JtRWxlbWVudCwgaW5wdXRFbGVtZW50LCBjb25maWcpID0+IHtcbiAgY29uc3QgZXJyb3JFbGVtZW50ID0gZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgIyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xuICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xuICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShjb25maWcuZXJyb3JDbGFzcyk7XG4gIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGNvbmZpZy5pbnB1dEVycm9yQ2xhc3MpO1xufTtcblxuY29uc3QgY2hlY2tJbnB1dFZhbGlkaXR5ID0gKGZvcm1FbGVtZW50LCBpbnB1dEVsZW1lbnQsIGNvbmZpZykgPT4ge1xuICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xuICAgIHNob3dJbnB1dEVycm9yKFxuICAgICAgZm9ybUVsZW1lbnQsXG4gICAgICBpbnB1dEVsZW1lbnQsXG4gICAgICBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2UsXG4gICAgICBjb25maWdcbiAgICApO1xuICB9IGVsc2Uge1xuICAgIGhpZGVJbnB1dEVycm9yKGZvcm1FbGVtZW50LCBpbnB1dEVsZW1lbnQsIGNvbmZpZyk7XG4gIH1cbn07XG5cbmNvbnN0IGhhc0ludmFsaWRJbnB1dCA9IChpbnB1dExpc3QpID0+IHtcbiAgcmV0dXJuIGlucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICByZXR1cm4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZDtcbiAgfSk7XG59O1xuXG5jb25zdCB0b2dnbGVCdXR0b25TdGF0ZSA9IChpbnB1dExpc3QsIGJ1dHRvbkVsZW1lbnQsIGNvbmZpZykgPT4ge1xuICBpZiAoaGFzSW52YWxpZElucHV0KGlucHV0TGlzdCkpIHtcbiAgICBkaXNhYmxlQnV0dG9uKGJ1dHRvbkVsZW1lbnQsIGNvbmZpZyk7XG4gIH0gZWxzZSB7XG4gICAgZW5hYmxlQnV0dG9uKGJ1dHRvbkVsZW1lbnQsIGNvbmZpZyk7XG4gIH1cbn07XG5cbmNvbnN0IGVuYWJsZUJ1dHRvbiA9IChidXR0b25FbGVtZW50LCBjb25maWcpID0+IHtcbiAgYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGNvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IGZhbHNlO1xufTtcblxuY29uc3QgZGlzYWJsZUJ1dHRvbiA9IChidXR0b25FbGVtZW50LCBjb25maWcpID0+IHtcbiAgYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKGNvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IHRydWU7XG59O1xuXG5jb25zdCByZXNldFZhbGlkYXRpb24gPSAoZm9ybUVsZW1lbnQsIGlucHV0TGlzdCwgY29uZmlnKSA9PiB7XG4gIGlucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xuICAgIGhpZGVJbnB1dEVycm9yKGZvcm1FbGVtZW50LCBpbnB1dCwgY29uZmlnKTtcbiAgfSk7XG59O1xuXG5jb25zdCBzZXRFdmVudExpc3RlbmVycyA9IChmb3JtRWxlbWVudCwgY29uZmlnKSA9PiB7XG4gIGNvbnN0IGlucHV0TGlzdCA9IEFycmF5LmZyb20oXG4gICAgZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChjb25maWcuaW5wdXRTZWxlY3RvcilcbiAgKTtcbiAgY29uc3QgYnV0dG9uRWxlbWVudCA9IGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoY29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcbiAgdG9nZ2xlQnV0dG9uU3RhdGUoaW5wdXRMaXN0LCBidXR0b25FbGVtZW50LCBjb25maWcpO1xuXG4gIGlucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGNoZWNrSW5wdXRWYWxpZGl0eShmb3JtRWxlbWVudCwgaW5wdXRFbGVtZW50LCBjb25maWcpO1xuICAgICAgdG9nZ2xlQnV0dG9uU3RhdGUoaW5wdXRMaXN0LCBidXR0b25FbGVtZW50LCBjb25maWcpO1xuICAgIH0pO1xuICB9KTtcbn07XG5cbmNvbnN0IGVuYWJsZVZhbGlkYXRpb24gPSAoY29uZmlnKSA9PiB7XG4gIGNvbnN0IGZvcm1MaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChjb25maWcuZm9ybVNlbGVjdG9yKTtcbiAgZm9ybUxpc3QuZm9yRWFjaCgoZm9ybUVsZW1lbnQpID0+IHtcbiAgICBzZXRFdmVudExpc3RlbmVycyhmb3JtRWxlbWVudCwgY29uZmlnKTtcbiAgfSk7XG59O1xuXG5leHBvcnQgeyBlbmFibGVWYWxpZGF0aW9uLCByZXNldFZhbGlkYXRpb24sIGRpc2FibGVCdXR0b24sIHNldHRpbmdzIH07XG4iLCJpbXBvcnQge1xuICBlbmFibGVWYWxpZGF0aW9uLFxuICByZXNldFZhbGlkYXRpb24sXG4gIGRpc2FibGVCdXR0b24sXG4gIHNldHRpbmdzLFxufSBmcm9tIFwiLi4vc2NyaXB0cy92YWxpZGF0aW9uLmpzXCI7XG5cbmltcG9ydCBcIi4vaW5kZXguY3NzXCI7XG5cbmNvbnN0IGltZzEgPSBuZXcgVVJMKFxuICBcIi4uL2ltYWdlcy8xLXBob3RvLWJ5LW1vcml0ei1mZWxkbWFubi1mcm9tLXBleGVscy5qcGdcIixcbiAgaW1wb3J0Lm1ldGEudXJsXG4pO1xuY29uc3QgaW1nMiA9IG5ldyBVUkwoXG4gIFwiLi4vaW1hZ2VzLzItcGhvdG8tYnktY2VpbGluZS1mcm9tLXBleGVscy5qcGdcIixcbiAgaW1wb3J0Lm1ldGEudXJsXG4pO1xuY29uc3QgaW1nMyA9IG5ldyBVUkwoXG4gIFwiLi4vaW1hZ2VzLzMtcGhvdG8tYnktdHViYW51ci1kb2dhbi1mcm9tLXBleGVscy5qcGdcIixcbiAgaW1wb3J0Lm1ldGEudXJsXG4pO1xuY29uc3QgaW1nNCA9IG5ldyBVUkwoXG4gIFwiLi4vaW1hZ2VzLzQtcGhvdG8tYnktbWF1cmljZS1sYXNjaGV0LWZyb20tcGV4ZWxzLmpwZ1wiLFxuICBpbXBvcnQubWV0YS51cmxcbik7XG5jb25zdCBpbWc1ID0gbmV3IFVSTChcbiAgXCIuLi9pbWFnZXMvNS1waG90by1ieS12YW4tYW5oLW5ndXllbi1mcm9tLXBleGVscy5qcGdcIixcbiAgaW1wb3J0Lm1ldGEudXJsXG4pO1xuY29uc3QgaW1nNiA9IG5ldyBVUkwoXG4gIFwiLi4vaW1hZ2VzLzYtcGhvdG8tYnktbW9yaXR6LWZlbGRtYW5uLWZyb20tcGV4ZWxzLmpwZ1wiLFxuICBpbXBvcnQubWV0YS51cmxcbik7XG5cbi8vIGltcG9ydCBsb2dvU3JjIGZyb20gXCIuLi9zcmMvaW1hZ2VzL0xvZ28uc3ZnXCI7XG5cbi8vIGNvbnN0IGhlYWRlckxvZ28gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImhlYWRlci1sb2dvXCIpO1xuLy8gaGVhZGVyTG9nby5zcmMgPSBsb2dvU3JjO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tT1BFTi9DTE9TRSBNT0RVTEUgKEVkaXQgUHJvZmlsZSktLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmNvbnN0IHByb2ZpbGVFZGl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19lZGl0LWJ0blwiKTtcbmNvbnN0IG1vZGFsQ2xvc2VCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5tb2RhbF9fYnV0dG9uLWNsb3NlXCIpO1xuY29uc3QgcHJvZmlsZU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX25hbWVcIik7XG5jb25zdCBwcm9maWxlRGVzY3JpcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2Rlc2NyaXB0aW9uXCIpO1xuY29uc3QgZWRpdE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNlZGl0LW1vZGFsXCIpO1xuY29uc3QgZWRpdE1vZGFsTmFtZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLW5hbWUtaW5wdXRcIik7XG5jb25zdCBlZGl0TW9kYWxEZXNjcmlwdGlvbklucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgXCIjcHJvZmlsZS1kZXNjcmlwdGlvbi1pbnB1dFwiXG4pO1xuY29uc3QgcHJvZmlsZUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtZm9ybVwiKTtcbmNvbnN0IG1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5tb2RhbFwiKTtcblxubW9kYWwuZm9yRWFjaCgobW9kYWwpID0+IHtcbiAgbW9kYWwuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCAoZXZ0KSA9PiB7XG4gICAgaWYgKFxuICAgICAgZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJtb2RhbFwiKSB8fFxuICAgICAgZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJtb2RhbF9fYnV0dG9uLWNsb3NlXCIpXG4gICAgKSB7XG4gICAgICBjbG9zZU1vZGFsKG1vZGFsKTtcbiAgICB9XG4gIH0pO1xufSk7XG5cbmZ1bmN0aW9uIGhhbmRsZUVzY2FwZShldnQpIHtcbiAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcbiAgICBjb25zdCBhY3RpdmVNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfb3BlbmVkXCIpO1xuICAgIGNsb3NlTW9kYWwoYWN0aXZlTW9kYWwpO1xuICB9XG59XG5cbmZ1bmN0aW9uIG9wZW5Nb2RhbChtb2RhbCkge1xuICBtb2RhbC5jbGFzc0xpc3QuYWRkKFwibW9kYWxfb3BlbmVkXCIpO1xuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBoYW5kbGVFc2NhcGUpO1xufVxuXG5mdW5jdGlvbiBjbG9zZU1vZGFsKG1vZGFsKSB7XG4gIG1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoXCJtb2RhbF9vcGVuZWRcIik7XG4gIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGhhbmRsZUVzY2FwZSk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZVByb2ZpbGVGb3JtU3VibWl0KGV2dCkge1xuICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgcHJvZmlsZU5hbWUudGV4dENvbnRlbnQgPSBlZGl0TW9kYWxOYW1lSW5wdXQudmFsdWU7XG4gIHByb2ZpbGVEZXNjcmlwdGlvbi50ZXh0Q29udGVudCA9IGVkaXRNb2RhbERlc2NyaXB0aW9uSW5wdXQudmFsdWU7XG4gIGNsb3NlTW9kYWwoZWRpdE1vZGFsKTtcbn1cblxucHJvZmlsZUVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgZWRpdE1vZGFsTmFtZUlucHV0LnZhbHVlID0gcHJvZmlsZU5hbWUudGV4dENvbnRlbnQ7XG4gIGVkaXRNb2RhbERlc2NyaXB0aW9uSW5wdXQudmFsdWUgPSBwcm9maWxlRGVzY3JpcHRpb24udGV4dENvbnRlbnQ7XG4gIC8vIGZpeCBlcnJvclxuICByZXNldFZhbGlkYXRpb24oXG4gICAgcHJvZmlsZUZvcm0sXG4gICAgW2VkaXRNb2RhbE5hbWVJbnB1dCwgZWRpdE1vZGFsRGVzY3JpcHRpb25JbnB1dF0sXG4gICAgc2V0dGluZ3NcbiAgKTtcbiAgb3Blbk1vZGFsKGVkaXRNb2RhbCk7XG59KTtcblxucHJvZmlsZUZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBoYW5kbGVQcm9maWxlRm9ybVN1Ym1pdCk7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS1PUEVOL0NMT1NFIE1PRFVMRSAoQUREIENBUkQpLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuY29uc3QgcHJvZmlsZU5ld1Bvc3RCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX25ldy1wb3N0LWJ0blwiKTtcbmNvbnN0IHByb2ZpbGVBZGRDYXJkRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYWRkLWNhcmQtZm9ybVwiKTtcbmNvbnN0IGFkZENhcmRMaW5rSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtYWRkLWNhcmQtbGluay1pbnB1dFwiKTtcbmNvbnN0IGFkZENhcmRDYXB0aW9uSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICBcIiNwcm9maWxlLWFkZC1jYXJkLWNhcHRpb24taW5wdXRcIlxuKTtcbmNvbnN0IGFkZENhcmRNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYWRkLWNhcmQtbW9kYWxcIik7XG5cbmZ1bmN0aW9uIGhhbmRsZUFkZENhcmRTdWJtaXQoZXZ0KSB7XG4gIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gIGNvbnN0IGlucHV0VmFsdWVzID0ge1xuICAgIG5hbWU6IGFkZENhcmRDYXB0aW9uSW5wdXQudmFsdWUsXG4gICAgbGluazogYWRkQ2FyZExpbmtJbnB1dC52YWx1ZSxcbiAgfTtcblxuICBjb25zdCBjYXJkRWxlbWVudCA9IGdldENhcmRFbGVtZW50KGlucHV0VmFsdWVzKTtcbiAgY2FyZHNMaXN0LnByZXBlbmQoY2FyZEVsZW1lbnQpO1xuICBjbG9zZU1vZGFsKGFkZENhcmRNb2RhbCk7XG4gIHByb2ZpbGVBZGRDYXJkRm9ybS5yZXNldCgpO1xuICBkaXNhYmxlQnV0dG9uKGV2dC5zdWJtaXR0ZXIsIHNldHRpbmdzKTtcbn1cblxucHJvZmlsZU5ld1Bvc3RCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgb3Blbk1vZGFsKGFkZENhcmRNb2RhbCk7XG59KTtcblxucHJvZmlsZUFkZENhcmRGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgaGFuZGxlQWRkQ2FyZFN1Ym1pdCk7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLUNBUkRTIEFSUkFZLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5jb25zdCBpbml0aWFsQ2FyZHMgPSBbXG4gIHtcbiAgICBuYW1lOiBcIkpvc2VwaCwgT1JcIixcbiAgICBsaW5rOiBpbWcxLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJPcmVnb24gQ29hc3RcIixcbiAgICBsaW5rOiBpbWcyLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJUdW1hbG8gRmFsbHMsIE9SXCIsXG4gICAgbGluazogaW1nMyxcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiQ2VudHJhbCBPcmVnb24gQ2FzY2FkZSBSYW5nZVwiLFxuICAgIGxpbms6IGltZzQsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIk11bHRub21haCBGYWxscywgT1JcIixcbiAgICBsaW5rOiBpbWc1LFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJTb3V0aGVybiBPcmVnb25cIixcbiAgICBsaW5rOiBpbWc2LFxuICB9LFxuXTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1DQVJEIFRFTVBMQVRFUy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuY29uc3QgY2FyZFRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjYXJkLXRlbXBsYXRlXCIpO1xuY29uc3QgY2FyZHNMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkc19fbGlzdFwiKTtcbmNvbnN0IG1vZGFsUHJldmlldyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2FyZC1wcmV2aWV3LW1vZGFsXCIpO1xuY29uc3QgbW9kYWxJbWFnZVByZXZpZXcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19pbWFnZS1wcmV2aWV3XCIpO1xuY29uc3QgbW9kYWxDYXB0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9faW1hZ2UtY2FwdGlvblwiKTtcblxuZnVuY3Rpb24gZ2V0Q2FyZEVsZW1lbnQoZGF0YSkge1xuICBjb25zdCBjYXJkRWxlbWVudCA9IGNhcmRUZW1wbGF0ZS5jb250ZW50XG4gICAgLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZFwiKVxuICAgIC5jbG9uZU5vZGUodHJ1ZSk7XG5cbiAgY29uc3QgY2FyZE5hbWVFbCA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fdGl0bGVcIik7XG4gIGNvbnN0IGNhcmRJbWFnZUVsID0gY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKTtcbiAgY29uc3QgY2FyZExpa2VCdG4gPSBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtYnV0dG9uXCIpO1xuICBjb25zdCBjYXJkRGVsZXRlQnRuID0gY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19kZWxldGUtYnV0dG9uXCIpO1xuXG4gIGNhcmROYW1lRWwudGV4dENvbnRlbnQgPSBkYXRhLm5hbWU7XG4gIGNhcmRJbWFnZUVsLnNyYyA9IGRhdGEubGluaztcbiAgY2FyZEltYWdlRWwuYWx0ID0gZGF0YS5uYW1lO1xuXG4gIGNhcmRMaWtlQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgY2FyZExpa2VCdG4uY2xhc3NMaXN0LnRvZ2dsZShcImNhcmRfX2xpa2UtYnV0dG9uX2xpa2VkXCIpO1xuICB9KTtcblxuICBjYXJkRGVsZXRlQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgY2FyZEVsZW1lbnQucmVtb3ZlKCk7XG4gIH0pO1xuXG4gIC8vIGNhcmQgbW9kYWwgcHJldmlldyBvcGVuXG4gIGNhcmRJbWFnZUVsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgbW9kYWxJbWFnZVByZXZpZXcuc3JjID0gZGF0YS5saW5rO1xuICAgIG1vZGFsSW1hZ2VQcmV2aWV3LmFsdCA9IGRhdGEubmFtZTtcbiAgICBtb2RhbENhcHRpb24udGV4dENvbnRlbnQgPSBkYXRhLm5hbWU7XG5cbiAgICBvcGVuTW9kYWwobW9kYWxQcmV2aWV3KTtcbiAgfSk7XG5cbiAgcmV0dXJuIGNhcmRFbGVtZW50O1xufVxuXG4vLyAtLS0tLSBjYXJkIGxvb3AgLS0tLS0tXG5pbml0aWFsQ2FyZHMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICBjb25zdCBjYXJkRWxlbWVudCA9IGdldENhcmRFbGVtZW50KGl0ZW0pO1xuICBjYXJkc0xpc3QucHJlcGVuZChjYXJkRWxlbWVudCk7XG59KTtcblxuLy8gLS0tLS0tIG1vZGFsIGNsb3NlIGJ1dHRvbiAtLS0tLS1cbm1vZGFsQ2xvc2VCdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICBjb25zdCBtb2RhbCA9IGJ1dHRvbi5jbG9zZXN0KFwiLm1vZGFsXCIpO1xuICAgIGNsb3NlTW9kYWwobW9kYWwpO1xuICB9KTtcbn0pO1xuXG5lbmFibGVWYWxpZGF0aW9uKHNldHRpbmdzKTtcbiJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJ1bmRlZmluZWQiLCJleHBvcnRzIiwibW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsIm0iLCJvIiwib2JqIiwicHJvcCIsIk9iamVjdCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsInAiLCJiIiwiZG9jdW1lbnQiLCJiYXNlVVJJIiwic2VsZiIsImxvY2F0aW9uIiwiaHJlZiIsInNldHRpbmdzIiwiZm9ybVNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJoaWRlSW5wdXRFcnJvciIsImZvcm1FbGVtZW50IiwiaW5wdXRFbGVtZW50IiwiY29uZmlnIiwiZXJyb3JFbGVtZW50IiwicXVlcnlTZWxlY3RvciIsImlkIiwidGV4dENvbnRlbnQiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJ0b2dnbGVCdXR0b25TdGF0ZSIsImlucHV0TGlzdCIsImJ1dHRvbkVsZW1lbnQiLCJzb21lIiwidmFsaWRpdHkiLCJ2YWxpZCIsImhhc0ludmFsaWRJbnB1dCIsImRpc2FibGVCdXR0b24iLCJlbmFibGVCdXR0b24iLCJkaXNhYmxlZCIsImFkZCIsImltZzEiLCJVUkwiLCJpbWcyIiwiaW1nMyIsImltZzQiLCJpbWc1IiwiaW1nNiIsInByb2ZpbGVFZGl0QnV0dG9uIiwibW9kYWxDbG9zZUJ1dHRvbnMiLCJxdWVyeVNlbGVjdG9yQWxsIiwicHJvZmlsZU5hbWUiLCJwcm9maWxlRGVzY3JpcHRpb24iLCJlZGl0TW9kYWwiLCJlZGl0TW9kYWxOYW1lSW5wdXQiLCJlZGl0TW9kYWxEZXNjcmlwdGlvbklucHV0IiwicHJvZmlsZUZvcm0iLCJoYW5kbGVFc2NhcGUiLCJldnQiLCJrZXkiLCJjbG9zZU1vZGFsIiwib3Blbk1vZGFsIiwibW9kYWwiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImZvckVhY2giLCJ0YXJnZXQiLCJjb250YWlucyIsInJlc2V0VmFsaWRhdGlvbiIsInZhbHVlIiwiaW5wdXQiLCJwcmV2ZW50RGVmYXVsdCIsInByb2ZpbGVOZXdQb3N0QnV0dG9uIiwicHJvZmlsZUFkZENhcmRGb3JtIiwiYWRkQ2FyZExpbmtJbnB1dCIsImFkZENhcmRDYXB0aW9uSW5wdXQiLCJhZGRDYXJkTW9kYWwiLCJjYXJkRWxlbWVudCIsImdldENhcmRFbGVtZW50IiwibmFtZSIsImxpbmsiLCJjYXJkc0xpc3QiLCJwcmVwZW5kIiwicmVzZXQiLCJzdWJtaXR0ZXIiLCJpbml0aWFsQ2FyZHMiLCJjYXJkVGVtcGxhdGUiLCJtb2RhbFByZXZpZXciLCJtb2RhbEltYWdlUHJldmlldyIsIm1vZGFsQ2FwdGlvbiIsImRhdGEiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiY2FyZE5hbWVFbCIsImNhcmRJbWFnZUVsIiwiY2FyZExpa2VCdG4iLCJjYXJkRGVsZXRlQnRuIiwic3JjIiwiYWx0IiwidG9nZ2xlIiwiaXRlbSIsImJ1dHRvbiIsImNsb3Nlc3QiLCJzZXRFdmVudExpc3RlbmVycyIsIkFycmF5IiwiZnJvbSIsImNoZWNrSW5wdXRWYWxpZGl0eSIsInNob3dJbnB1dEVycm9yIiwiZXJyb3JNZXNzYWdlIiwidmFsaWRhdGlvbk1lc3NhZ2UiXSwic291cmNlUm9vdCI6IiJ9